<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="preload" href="./css/style.css" as="style" />
    <link rel="stylesheet" href="./css/style.css">
    <link rel="icon" href="img/logo-icon.webp">
    <link rel="canonical" href="https://themidnightride.moddinglinked.com">
    <script src="https://kit.fontawesome.com/baff4f2fd4.js" crossorigin="anonymous"></script>
    <script src="javascript.js"></script>
    <title>LOD Guide | The Midnight Ride</title>
    <meta name="keywords" content="Fallout New Vegas, FNV, Fallout NV, Fallout, New Vegas, The Elder Scrolls, FO4, SSE, SkyrimSE, Skyrim Special Edition, Guide, Mod, Mods, Modding Guide, Bethesda, Stable, Performance, Fix, Help, DXVK, Fast, Easy, Tutorial, Mod Organizer, Nexus, Fallout 4, Skyrim, Tale of Two Wastelands, Wabbajack, FO4LODGen, xLODGen, LOD Guide, Generating LOD, LODGen, Distant Objects">
    <meta name="description" content="General information on LOD and how to generate it with FO4LODgen.">
    <meta http-equiv='content-language' content='en-us'>
    <meta name="twitter:card" value="summary_large_image">
    <meta property="og:site_name" content="ModdingLinked">
    <meta property="og:title" content="The Midnight Ride">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://themidnightride.moddinglinked.com">
    <meta property="og:image" content="https://themidnightride.moddinglinked.com/img/card.webp">
    <meta property="og:description" content="General information on LOD and how to generate it with FO4LODgen.">
</head>

<body>

    <!-- Titlebar -->
    <div class="titlecontainer">
        <div id="sideButton" onclick="toggleNav()">
            <i class="fa-solid fa-bars"></i>
        </div>
        <img src="./img/logo.webp" alt="Logo">
        <a href="./index.html">The Midnight Ride</a>
        <div class="guideLinks">
            <a href="https://vivanewvegas.moddinglinked.com" target="_blank" rel="nofollow">Fallout New Vegas</a>
            <a href="https://thebestoftimes.moddinglinked.com" target="_blank" rel="nofollow">Tale of Two Wastelands</a>
            <a href="https://dragonbornsfate.moddinglinked.com" target="_blank" rel="nofollow">Skyrim Special Edition</a>
        </div>
    </div>

    <!-- Left Sidebar -->
    <div id="sidenavLeft">
        <div>
            <ul>
                <li>
                    <a href="./index.html">Home</a>
                </li>
                <li>
                    <a href="./intro.html">Introduction</a>
                </li>
                <li>
                    <a href="./setup.html">Setup</a>
                </li>
                <li>
                    <a href="./mo2.html">MO2</a>
                </li>
                <li>
                    <a href="./utilities.html">Utilities</a>
                </li>
                <li>
                    <a href="./bugfix.html">Bug Fixes</a>
                </li>
                <li>
                    <a href="./basefinish.html">Base Finish</a>
                </li>
            </ul>
            <hr>
        </div>
        <div class="extended-background">
            <ul>
                <h3 id="extended-separator">TMR Extended</h3>
                <li>
                    <a href="./tweaks.html">Tweaks</a>
                </li>
                <li>
                    <a href="./hud.html">User Interface</a>
                </li>
                <li>
                    <a href="./gameplay.html">Gameplay</a>
                </li>
                <li>
                    <a href="./visuals.html">Visuals</a>
                </li>
                <li>
                    <a href="./finish.html">TMRE Finish</a>
                </li>
            </ul>
        </div>
        <div>
            <hr>
            <ul>
                <li>
                    <a href="./changelog.html">Changelog</a>
                </li>
                <li>
                    <a href="./resources.html">Resources</a>
                </li>
                <ul>
                    <li>
                        <a href="./resources.html">Resources</a>
                    </li>
                    <ul>
                        <li>
                            <a href="./lod.html" class="active">LOD Guide</a>
                        </li>
                    </ul>
                </ul>
                <li>
                    <a href="./faq.html">FAQ</a>
                </li>
                <li>
                    <a href="./avoid-tools.html">Tools to Avoid</a>
                </li>
                <li>
                    <a href="./avoid-mods.html">Mods to Avoid</a>
                </li>
<!--                 <li>
                    <a href="./wabbajack.html">Wabbajack</a>
                </li> -->
            </ul>
        </div>

        <!-- Guide Links -->
        <div class="guideLinks">
            <hr>
            <ul>
                <li>
                    <a href="https://vivanewvegas.moddinglinked.com" target="_blank" rel="nofollow">Fallout New Vegas</a>
                </li>
                <li>
                    <a href="https://thebestoftimes.moddinglinked.com" target="_blank" rel="nofollow">Tale of Two Wastelands</a>
                </li>
                <li>
                    <a href="https://dragonbornsfate.moddinglinked.com" target="_blank" rel="nofollow">Skyrim Special Edition</a>
                </li>
            </ul>
        </div>

        <!-- Footer -->
        <div id="footer">
            <ul>
                <li class="discord">
                    <a href="https://discord.gg/S99Ary5eba" target="_blank">
                        <i class="fab fa-discord"></i>
                        Discord
                    </a>
                </li>
                <li class="kofi">
                    <a href="https://ko-fi.com/wall_sogb" target="_blank">
                        <i class="fa fa-coffee"></i>
                        Support us
                    </a>
                </li>
                <li class="github">
                    <a href="https://github.com/ModdingLinked/The-Midnight-Ride" target="_blank">
                        <i class="fab fa-github"></i>
                        GitHub
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- Content -->
    <div class="content">
        <div class="section">
            <h1>LOD Guide</h1>
            <p>Generating LOD is <b>NOT</b> a requirement, but it will add detail in the distance by improving terrain geometry/textures and the amount of objects that have LOD while also making all LOD match your modded textures. This will also allow mods that edit the game's landscape to have LOD that reflects their changes. Terrain LOD creates a much larger file size and will take longer to generate.</p>
            <blockquote>The Midnight Ride (even with TMR Extended) does not need new terrain LOD, but this guide will explain both the object and terrain LOD generation to account for custom modlists or if you just want better looking terrain LOD.</blockquote>

            <!-- What is LOD -->
            <p>
                <a>
                    <h2 id="whatIsLod">What is LOD?</h2>
                </a>
            </p>
            <p>
                LOD stands for <strong>Level Of Detail</strong>.
                <br>
                In the context of Bethesda games, LOD mainly refers to <strong>Cell LOD</strong>, not geometry LOD. It's used to represent whole cells (the game's "chunks" of land) in the distance.
            </p>

            <p>
                Cell LOD is <b>not</b> based on distance - it's a binary state of whether cell is either loaded or not. The LOD Block distance settings control the max draw distance of LOD itself, not the point where it begins.
                <br>
                This means that you will see LOD pop-in at the same distance regardless of the settings.
            </p>

            <p>
                Cell LOD is split into 2 categories:
            <ol>
                <li>
                    <strong>Object LOD</strong> - All flagged objects in a group of cells are represented as one geometry block. This LOD has only one constant quality level. Fast generation time.
                </li>
                <li>
                    <strong>Terrain LOD</strong> - These blocks represent landscape of at least 4 cells. This is the only LOD that has quality levels - higher levels cover more cells. Due to the sheer size and texture count, it takes the longest to generate.
                </li>
            </ol>
            </p>

            <!-- Why Generate LOD -->
            <p>
                <a>
                    <h2 id="whyGenerate">Why generate LOD?</h2>
                </a>
            </p>
            <p>
                Bethesda's LOD relies on pregenerated meshes, and thus is inherently static. This decision is due to offering better performance, since game doesn't have to combine meshes and textures of individual objects on the fly.
                <br>
                The drawback is obvious - the game can't reflect any changes made to the landscape or objects on its own. That's where LOD generation comes in.
                <br>
                Thanks to LODGen (with the assistance of TexGen and Synthesis in the case of Fallout 4), you are able to generate LOD meshes that reflect your modded game, and thus have a much more consistent experience.
            </p>
            <p>
                Another reason for generation is due to the fact that the original LOD is pretty low quality, and many objects lack LOD meshes entirely, which causes them to appear out of thin air on cell load.
                <br>
                This is covered by individual LOD mods, which add LOD meshes to objects that lack it and/or improve the quality of existing ones.
            </p>

            <!-- Creating a Separator -->
            <h2>Creating a Separator in MO2.</h2>
            <ol>
                <li>Right-click the empty space in the left pane of MO2 and select <strong>Create separator</strong>.</li>
                <li>Name the separator <strong>LOD</strong>.</li>
            </ol>

            <!-- Installing LOD Resources -->
            <p>
                <a>
                    <h2 id="installingResources">Installing LOD Resources</h2>
                </a>
            </p>
            <ul>
                <li><a href="https://mega.nz/#!BZhlVCAJ!s-GqqbnJlZDvCLPiRw1Wm1EWGqMQCuh4CR8Zzn8POM4" target="_blank">FO4LODGen Resources</a></li>
                <li><a href="https://www.nexusmods.com/fallout4/mods/56138" target="_blank">HD LOD Textures</a></li>
                Also install these files:
                <ul>
                    <li>Optional Files - LOD Fixes and Additions</li>
                    <li>Optional Files - LOD Terrain Noise and Detail Normals - Variant 1</li>
                    (You can get a different version of the terrain noise based on preference)
                </ul>
                <li><a href="https://www.nexusmods.com/fallout4/mods/62975" target="_blank">ModernHouseLOD</a></li>
                <li><a href="https://www.nexusmods.com/fallout4/mods/61884" target="_blank">Far Object LOD Improvement Project</a></li>
                You will be prompted with a FOMOD installer:
                <ol>
                    <li>Next</li>
                    <li>Install</li>
                </ol>
                <li><a href="https://www.nexusmods.com/fallout4/mods/63191" target="_blank">Far Harbor 3D Tree LODs</a></li>
                You will be prompted with a FOMOD installer:
                <ol>
                    <li>Next</li>
                    <li>Install</li>
                </ol>
                <li><a href="https://www.nexusmods.com/fallout4/mods/63198" target="_blank">Optimized Vanilla Tree LODs</a></li>
                You will be prompted with a FOMOD installer:
                <ol>
                    <li>Next</li>
                    <li>Enable all options with an asterisk appended, Next.</li>
                    <li>Enable all options with an asterisk appended, Next.</li>
                    <li>Enable all options with an asterisk appended, Install.</li>
                </ol>
            </ul>
            Disable, hide, or delete the following plugins:
            <ul>
                <li>FO4LODGen-FullModelLOD.esp</li>
                <li>FO4LODGen-DLCCoast.esp</li>
                <li>FO4LODGen-DLCNukaWorld.esp</li>
                <li>FO4LODGen-DLCWorkshop03.esp</li>
                <li>FO4LODGen-HighTrees.esp</li>
                <li>LOD Fixes and Additons.esp</li>
            </ul>
            <p>
                <a class="link" href="https://www.nexusmods.com/fallout4/mods/67185" target="_blank">
                    <h2 id="preGennedLod">TMR Pre-Generated LOD</h2>
                </a>
            </p>
            You can skip manual LOD generation by using this file, simply install it as a normal mod in MO2 and put it under the resources listed in the previous section (which you still need). You can then ignore the rest of this page.

            <hr>

            <!-- TexGen -->
            <p>
                <a>
                    <h2 id="texgen">TexGen</h2>
                </a>
            </p>
            <ol>
                <li>Download the latest <a href="https://www.nexusmods.com/skyrimspecialedition/mods/68518?" target="_blank">DynDOLOD 3 Alpha</a>.</li>
                <li>Once the download has finished, extract the contents of the archive to any location of your choice (do not use a UAC protected folder or the game folder).</li>
                <li>In MO2, select the <img src="./img/mo2 executabes.webp" alt="MO2 executables"> button at the top of MO2 to open the executables menu.</li>
                <li>Click the <strong style="color:rgb(20, 162, 228)">+</strong> at the top of the window and the select <strong>Add from file...</strong></li>
                <li>From the pop-up, navigate to where TexGen is installed and select <strong>TexGenx64.exe</strong>.</li>
                <li>In the <b>Arguments</b> box in the right pane, enter <code>-FO4</code></li>
                <li>Select TexGen from the executables drop-down in the top right of MO2 and click <b>Run</b>.</li>
                <li>Once the program has loaded, click <strong>Start</strong>.</li>
                <li>When complete, you will see a message saying "TexGen completed successfully", click <strong>Zip and Exit</strong>.</li>
                <li>Install the TexGen output by clicking the <img src="./img/mo2 archive.webp" alt="MO2 archive button"> button at the top of MO2.</li>
                <li>From the new window, navigate to the DynDOLOD folder you installed in step 2, then to the <b>TexGen_Output</b> folder and double-click the archive.</li>
                <li>Finish the install as you would with a <strong>Mod Manager Download</strong> mod.</li>
            </ol>

            <hr>

            <!-- Synthesis FOLIP -->
            <p>
                <a>
                    <h2 id="synthesis1">Synthesis FOLIP</h2>
                </a>
            </p>
            <ol>
                <li>Download and install the <a href="https://dotnet.microsoft.com/download" target="_blank">.NET 8.0 SDK</a>, then restart your computer.</li>
                <li>Download the latest <a href="https://github.com/Mutagen-Modding/Synthesis/releases" target="_blank">Synthesis</a>.</li>
                <li>Once the download has finished, extract the contents of the archive to any location of your choice (do not use a UAC protected folder or the game folder).</li>
                <li>In MO2, select the <img src="./img/mo2 executabes.webp" alt="MO2 executables"> button at the top of MO2 to open the executables menu.</li>
                <li>Click the <strong style="color:rgb(20, 162, 228)">+</strong> at the top of the window and the select <strong>Add from file...</strong></li>
                <li>From the pop-up, navigate to where Synthesis is installed and select <strong>Synthesis.exe</strong>.</li>
                <li>Select Synthesis from the executables drop-down in the top right of MO2 and click <b>Run</b>.</li>
                <li>Select the Fallout 4 profile, then go to the <b>Git Repositories</b> tab and add the <strong>FOLIP patcher</strong>.</li>
                <li>Open the FOLIP patcher's settings and enable <strong>Moveable Statics</strong>, then run it.</li>
            </ol>
            <blockquote>You may also enable the <b>Force LOD8</b> setting, which makes objects use their LOD4 model in LOD8 distance in case their LOD8 model doesn't exist. This might reduce performance to the benefit of visuals.</blockquote>
            <ol start="10">
                <li>Once the patcher has finished running, close Synthesis.</li>
                <li>In MO2, right-click on the <i>Overwrite</i> folder at the bottom of the left pane and select <strong>All Mods -> Create empty mod above</strong>.</li>
                <li>Title the mod <strong>Synthesis LOD Patch</strong>.</li>
                <li>Take the Synthesis.esp from <i>Overwrite</i> and move it into the mod you just created.</li>
            </ol>

            <hr>

            <!-- FO4LODGen -->
            <p>
                <a>
                    <h2 id="fo4lodgen">FO4LODGen</h2>
                </a>
            </p>
            <ol>
                <li>Download the latest <a href="https://stepmodifications.org/forum/topic/13451-xlodgen-terrain-lod-beta-94-for-fnv-fo3-fo4-fo4vr-tes5-sse-tes5vr-enderal-enderalse/" target="_blank">xLODGen</a>.</li>
                <li>Once the download has finished, extract the contents of the archive to any location of your choice (do not use a UAC protected folder or the game folder).</li>
                <li>In MO2, select the <img src="./img/mo2 executabes.webp" alt="MO2 executables"> button at the top of MO2 to open the executables menu.</li>
                <li>Click the <strong style="color:rgb(20, 162, 228)">+</strong> at the top of the window and the select <strong>Add from file...</strong></li>
                <li>From the pop-up, navigate to where xLODGen is installed and select <strong>xLODGenx64.exe</strong>.</li>
                <li>In the <b>Arguments</b> box in the right pane, enter <code>-FO4 -O:"C:\Output\"</code></li>
            </ol>
            <blockquote>This argument will send the LOD output to a folder called <b>Output</b> on your <b>C</b> drive (the drive Windows is installed on). You can change this path if you would prefer the files to be generated elsewhere (do not use a UAC protected folder or the game folder).</blockquote>
            <ol start="7">
                <li>Select xLODGen from the executables drop-down in the top right of MO2 and click <b>Run</b>.</li>
                <li>Copy the settings below:</li>
                <img src="./img/lod settings 1.webp" alt="LOD settings 1">
                <br>
                <img src="./img/lod settings 2.webp" alt="LOD settings 2">
                <br>
                <img src="./img/lod settings 3.webp" alt="LOD settings 3">
                <br>
                <img src="./img/lod settings 4.webp" alt="LOD settings 4">
                <li>Click <strong>Generate</strong>.</li>
                <li>When complete, the log will stop and at the end you will see a message saying "LOD generation complete", you can now close xLODGen.</li>
            </ol>
            <blockquote>
                <h2 id="settingsDetails">What The Settings Mean</h2>
                <h3>Objects:</h3>
                <ul>
                    <li><strong>Atlas size</strong>: The <a href="https://en.wikipedia.org/wiki/Texture_atlas" target="_blank">atlas</a> is what contains all textures for the <b>Object LOD</b> meshes, increasing its size means that you can have more textures on the atlas (from the new resources) and they could also be higher resolution, keep in mind that the tool will create this atlas with just the resolution it ends up needing (e.g. if you only need 1024x512 for your atlas, that will be the final resolution of it, what we set is simply the max allowed).</li>
                    <li><strong>Max texture size</strong>: Object textures above this resolution will not be allowed on the atlas, you should increase this if you run higher settings on TexGen.</li>
                </ul>

                <h3>Landscape:</h3>
                <ul>
                    <li><strong>Protect borders</strong>: Prevents ugly terrain drops at the cell borders.</li>
                    <li><strong>Size</strong>: As a result of using <a href="https://en.wikipedia.org/wiki/Mipmap" target="_blank">mipmaps</a>, the benefit of high terrain LOD resolutions will be miniscule, 512 on LOD4 and 256 on the next levels will suffice.</li>
                    <li><strong>Bake normal-maps</strong>: Roughens the terrain LOD textures to match the actual terrain's normal map.</li>
                    <li><strong>Mipmap</strong>: Mipmapping textures prevents <a href="https://en.wikipedia.org/wiki/Mipmap#/media/File:Mipmap_Aliasing_Comparison.png" target="_blank">pixel crawling artifacts</a> at a minor VRAM and storage utilization cost.</li>
                    <li><strong>Quality</strong>: This controls the amount of detail in the LOD's geometry. Lower values have more detail and have a minor performance cost because of the amount of triangles in the mesh.</li>
                    <li><strong>Optimize unseen</strong>: With the right value determined with testing, this can improve the look of coast lines.</li>
                    <li><strong>No vertex color</strong>: Fixes the LODs not displaying correctly when viewed from either a worldspace that inherits LOD from another worldspace (e.g., Diamond City or Goodneighbor) or when viewed from an interior cell that allows you to look at exterior LOD from out a window or similar.</li>
                    <li><strong>Use source alpha threshold</strong>: Prevents LOD textures from looking too thick or thin.</li>
                    <li><strong>Use backlight power</strong>: Adds support for respecting the backlight power setting defined in the LOD files, for example on the Diamond City stadium lights to make them appear to be lit.</li>
                </ul>
            </blockquote>

            <hr>

            <!-- Installing LOD -->
            <p>
                <a>
                    <h2 id="installingLod">Installing the LOD</h2>
                </a>
            </p>
            <ol>
                <li>In MO2, right-click on the <i>Overwrite</i> folder at the bottom of the left pane and select <strong>All Mods -> Create empty mod above</strong>.</li>
                <li>Title the mod <strong>FO4LODGen Output</strong>.</li>
                <li>Navigate to where the LOD files were generated and select both the <code>textures</code> and <code>meshes</code> folders.</li>
                <li>Cut them to the <strong>FO4LODGen Output</strong> mod you just created (right-click on the mod and select <b>Open in Explorer)</b>.</li>
            </ol>
            <blockquote>
                <b>IMPORTANT:</b>
                <br>
                Do not disable the LOD resources you installed previously, the game needs those edits for the LOD to work properly.
            </blockquote>
            <hr>
            <p>
                <a>
                    <h2 id="synthesis2">Synthesis HasDistantLOD</h2>
                </a>
            </p>
            <ol>
                <li>Select Synthesis from the executables drop-down in the top right of MO2 and click <b>Run</b>.</li>
                <li>Disable the FOLIP patcher.</li>
                <li>Open the <b>Git Repositories</b> tab and add the <strong>HasDistantLOD patcher</strong>, then run it.</li>
                <li>Once the patcher has finished running, close Synthesis.</li>
            </ol>
        </div>

        <!-- Arrows -->
        <div>
            <hr>
            <a href="./resources.html" id="previous" rel="prev" class="navigationArrow"><img class="left mirror" src="./img/arrow.webp" alt="Back Arrow"><span class="arrowText left">Resources</span></a>
        </div>
    </div>

    <!-- Right Sidebar -->
    <div id="sidenavRight">
        <ul>
            <li>
                <a href="#whatIsLod">What is LOD</a>
            </li>
            <li>
                <a href="#whyGenerate">Why generate LOD</a>
            </li>
            <li>
                <a href="#installingResources">Installing Resources</a>
            </li>
            <li>
                <a href="#preGennedLod">Pre-Generated LOD</a>
            </li>
            <li>
                <a href="#texgen">TexGen</a>
            </li>
            <li>
                <a href="#synthesis1">FOLIP Patch</a>
            </li>
            <li>
                <a href="#fo4lodgen">FO4LODGen</a>
            </li>
            <li>
                <a href="#installingLod">Installing the LOD</a>
            </li>
            <li>
                <a href="#synthesis2">HasDistantLOD Patch</a>
            </li>
        </ul>
    </div>
</body>

</html>